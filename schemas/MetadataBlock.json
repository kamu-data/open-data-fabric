{
  "$id": "http://open-data-fabric.github.com/schemas/MetadataBlock.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "An individual block in the metadata chain that captures the history of modifications of a dataset.",
  "type": "object",
  "required": [
    "blockHash",
    "prevBlockHash",
    "systemTime"
  ],
  "properties": {
    "blockHash": {
      "type": "string",
      "description": "Hash sum of this metadata block's information"
    },
    "prevBlockHash": {
      "type": "string",
      "description": "Hash sum of the preceding block"
    },
    "systemTime": {
      "type": "string",
      "format": "date-time",
      "description": "System time when this block was written"
    },
    "outputSlice": {
      "$ref": "DataSlice.json",
      "description": "Properties of output data written during this update, if any"
    },
    "inputSlices": {
      "type": "array",
      "items": {
        "$ref": "DataSlice.json"
      },
      "description": "Defines input datasets and their data slices used in this block, if any"
    },
    "rootPollingSource": {
      "$ref": "RootPollingSource.json",
      "description": "If metadata relates to a root dataset - defines the external data source and the transformation steps"
    },
    "derivativeSource": {
      "$ref": "DerivativeSource.json",
      "description": "If metadata relates to a derivative dataset - defines the sources and applied transformations"
    }
  }
}